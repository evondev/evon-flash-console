"use strict";var J=Object.create;var p=Object.defineProperty;var K=Object.getOwnPropertyDescriptor;var O=Object.getOwnPropertyNames;var Q=Object.getPrototypeOf,U=Object.prototype.hasOwnProperty;var V=(i,l)=>{for(var o in l)p(i,o,{get:l[o],enumerable:!0})},Z=(i,l,o,t)=>{if(l&&typeof l=="object"||typeof l=="function")for(let a of O(l))!U.call(i,a)&&a!==o&&p(i,a,{get:()=>l[a],enumerable:!(t=K(l,a))||t.enumerable});return i};var X=(i,l,o)=>(o=i!=null?J(Q(i)):{},Z(l||!i||!i.__esModule?p(o,"default",{value:i,enumerable:!0}):o,i)),Y=i=>Z(p({},"__esModule",{value:!0}),i);var ne={};V(ne,{activate:()=>ee,deactivate:()=>te});module.exports=Y(ne);var s=X(require("vscode"));function ee(i){let l=s.commands.registerCommand("evon-flash-console.insertConsoleLog",()=>{let o=s.window.activeTextEditor;if(!o){s.window.showErrorMessage("No active editor!");return}let t=o.document,a=o.selection,f;if(!a.isEmpty)f=t.getText(a).trim();else{let n=a.active,c=t.getWordRangeAtPosition(n);c&&(f=t.getText(c).trim())}if(!f||!/^[a-zA-Z_$][a-zA-Z_$0-9]*$/.test(f)){s.window.showErrorMessage("No valid variable name selected or under cursor!");return}let _=!1,u=a.active.line,k=t.lineAt(u).text,h=k.trim();(/\s{\s*$/.test(h)||/;\s*$/.test(h))&&(_=!0);let v=u,r=u,L=0,w=0,T=0,m=!1,C=!1,$=!1,j=!1,W="";for(let n=u;n>=0;n--){let c=t.lineAt(n).text,e=c.trim();if(e.match(/^(const|let|var)\s/)){v=n,W=c;let d=n+1;for(;d<t.lineCount;){let z=t.lineAt(d).text;W+=`
`+z;let D=z.trim();if(D.endsWith(";")||D.includes("}"))break;d++}if(W.includes(f)){j=!0;break}}if(e.includes("{")&&(C=!0),e.endsWith(";")||e.includes("}"))break}for(t.lineAt(v).text.trim().includes("{")&&(C=!0),r=v;r<t.lineCount;){let n=t.lineAt(r).text,c=n.trim();for(let e=0;e<n.length;e++){let d=n[e];d==="{"?L++:d==="}"?L--:d==="("?w++:d===")"?w--:d==="["?T++:d==="]"?T--:d==="="&&e+1<n.length&&n[e+1]===">"&&!m&&(m=!0,e++)}if(L===0&&w===0&&T===0&&!m){if(C){if(c.includes("}")){$=!0;break}}else if(c.endsWith(";")){$=!0;break}else if(r>v){let e=r+1<t.lineCount?t.lineAt(r+1).text.trim():"";if(!e.startsWith(")")&&!e.startsWith("}")&&!e.startsWith("]")&&!e.startsWith(",")&&!e.startsWith("?")&&!e.startsWith(":")&&!e.startsWith("&&")&&!e.startsWith("??")&&!e.startsWith("||")){$=!0;break}}}m&&w===0&&c.includes(")")&&(m=!1),r++}if(!$){s.window.showErrorMessage("Could not find the end of the variable or function declaration!");return}(/\s{\s*$/.test(h)||/;\s*$/.test(h))&&(r=u);let A=100,N=t.lineAt(u).text,b=a.active.line,B=!1;for(;b<t.lineCount&&(N=t.lineAt(b).text,!(A<=0));){if(/\s{\s*$/.test(N)&&/,\s*$/.test(k)){B=!0,r=b;break}b++,A--}let P=["\u{1F680}","\u26A1\uFE0F","\u{1F648}","\u{1F525}","\u{1F48E}","\u{1F31F}","\u2728","\u{1F389}","\u{1F38A}","\u{1F4A5}","\u{1F308}","\u{1F340}","\u{1F349}","\u{1F353}","\u{1F352}","\u{1F34D}","\u{1F951}","\u{1F95D}","\u{1F965}","\u{1F34B}"],q=P[Math.floor(Math.random()*P.length)],g=s.workspace.getConfiguration("evonFlashConsole"),E=g.get("logType","log"),y=g.get("includeFileName",!0),M=g.get("includeLineNum",!0),G=g.get("prefixText","\u{1F680}"),F=g.get("randomPrefixIcon",!1),H=["info","log","debug","warn","error"].includes(E)?E:"log",R=t.fileName.split(/[\\/]/).pop()||"unknown",I=r+1,x="";y&&M?x=`${R}:${I+1} - ${f}:`:y?x=`${R} - ${f}:`:M?x=`${I+1} - ${f}:`:x=`${f}:`;let S=`console.${H}("${F?`${q} `:""}${F?"":`${G} `}${x}", ${f});`;o.edit(n=>{let c=new s.Position(r+1,0);n.insert(c,S+`

`)}).then(()=>{let n=new s.Position(r+1,S.length);o.selection=new s.Selection(n,n)})});i.subscriptions.push(l)}function te(){}0&&(module.exports={activate,deactivate});
